// =============================================================================
// Main program.
// =============================================================================
#include <avr/io.h>
#include "motor.h"

// =============================================================================
// Entry point
// =============================================================================
int main(void) {
    if (MCUSR == 0x0F) {
        // Indicate STOP mode
        motor__init();
        motor__up__on();
        motor__down__on();
    }
    else {
        // Request STOP mode
        MCUSR = 0x0F;
        asm("rjmp __vectors");
    }
    return 0;
}
